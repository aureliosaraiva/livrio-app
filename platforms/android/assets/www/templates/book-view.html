<ion-view>
    <ion-nav-title>
        {{bookView.title}}
    </ion-nav-title>

  <ion-content class="book-view bg-color" >




    <div class="wait-message" ng-show="loading">
        <ion-spinner class="spinner-energized"></ion-spinner>
        <span>{{'app.loading' | translate}}</span>
    </div>

    
    <div ng-hide="loading">


    

    <div class="list book-info">
        <!-- <i class="btn-more icon ion-information-circled"></i> -->
        <div class="item details">
            <img ng-src="{{bookView.thumb}}" class="cover">

            <div class="info">
            <p ng-show="bookView.isbn"><strong>{{'book.isbn' | translate }}</strong>{{bookView.isbn}}</p>
            <p ng-show="bookView.author" style="width: 178px;"><strong>{{'book.author' | translate }}</strong>{{bookView.author}}</p>
            <p ng-show="bookView.page_count>0"><strong>{{'book.page' | translate }}</strong>{{bookView.page_count}}</p>
            <p ng-show="bookView.publisher"><strong>{{'book.publisher' | translate }}</strong>{{bookView.publisher}} 
            <span ng-show="bookView.published_year">({{bookView.published_year}})</span></p>


            </div>
        </div>


        <div class="item tabs tabs-secondary tabs-icon-top bar-option">

            <a class="tab-item" ng-click="onLike(bookView)" ng-class="{'active':bookView.is_like}">
            <i class="icon ion-thumbsup"></i>
            {{'book.btn_like' | translate }}
            </a>



            <a class="tab-item" ui-sref="app.book-recommend({id:bookView.id})">
            <i class="icon ion-share"></i>
            {{'book.btn_recommend' | translate }}
            </a>

            <a class="tab-item"  ui-sref="app.book-comment({id:bookView.id})">
            <i class="icon ion-chatboxes"></i>
            {{'book.btn_comment' | translate }}
            </a>
        </div>






        <div class="item tabs tabs-secondary tabs-icon-left" ng-hide="bookView.loaned || (!bookView.owner.is_friend && !bookView.is_owner)">

            <a class="tab-item request-loan" ng-hide="bookView.loaned || !bookView.is_owner" ui-sref="app.book-lend({id:bookView.id})">
            <i class="icon ion-forward"></i>
            {{'book.btn_lend' | translate }}
            </a>

            <a class="tab-item request-loan" ng-hide="bookView.loaned || bookView.is_owner" ng-click="onRequestLoan(bookView)">
            <i class="icon ion-forward"></i>
            {{'book.btn_loan' | translate }}
            </a>


        </div>
    </div>

    <bookaction book="bookView" status="bookView.loaned.status" on-change-status="onChangeStatus(status)"></bookaction>

        



    <div class="list" ng-show="bookView.description"  ng-class="{'collpase':!moreDescription}">
        <div class="item item-divider item-line-bottom no-margin" >
          {{'book.synopsis' | translate }}
        </div>
        <div class="ly" ng-hide="moreDescription" ng-click="moreDescription=true;$ionicScrollDelegate.resize();"></div>
        <div class="item item-text-wrap description" ng-bind-html="bookView.description" ng-click="moreDescription=true;$ionicScrollDelegate.resize();">

        </div>

    </div>

      
    </div>
    
  </ion-content>

</ion-view>