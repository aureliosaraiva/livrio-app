
<ion-view >
<form ng-submit="doSave(formLibrary)" name="formLibrary" novalidate>
    <ion-nav-bar class="bar-assertive">

        <ion-nav-back-button></ion-nav-back-button>

        <ion-nav-title>
            {{title}}
        </ion-nav-title>

        <ion-nav-buttons side="right">
            <button class="button button-clean" type="submit">{{'book_form.btn_save' | translate}}</button>
        </ion-nav-buttons>


    </ion-nav-bar>


  <ion-content class="book-form">

        <div class="wait-message spinner-large " ng-show="searching">
            <ion-spinner class="spinner-energized "></ion-spinner>
            <span>{{'app.searching' | translate}}</span>
        </div>

            <div class="list" ng-hide="searching">



            

                <div class="item item-input item-stacked-label" ng-class="{ 'has-error' : formLibrary.isbn.$invalid && formLibrary.$submitted}">
                    <span class="input-label">{{'book_form.field_isbn' | translate}}</span>
                    <input ng-blur="doScan(formLibrary.isbn)"  type="text"  name="isbn" ng-model="form.isbn" ng-readonly="form.id" required>
                </div>
                <div class="form-errors" ng-messages="formLibrary.isbn.$error" ng-show="formLibrary.$submitted">
                  <div class="form-error" ng-message="required">{{'book_form.field_isbn' | translate}} {{'app.required_field' | translate}}</div>
                </div>





                <label class="item item-input item-stacked-label" ng-class="{ 'has-error' : formLibrary.title.$invalid && formLibrary.$submitted}">
                    <span class="input-label">{{'book_form.field_title' | translate}}</span>
                    <input type="text"  name="title" ng-model="form.title" required>
                </label>
                <div class="form-errors" ng-messages="formLibrary.title.$error" ng-show="formLibrary.$submitted">
                    <div class="form-error" ng-message="required">{{'book_form.field_title' | translate}} {{'app.required_field' | translate}}</div>
                </div>

                <label class="item item-input item-stacked-label" ng-class="{ 'has-error' : formLibrary.author.$invalid && formLibrary.$submitted}">
                    <span class="input-label">{{'book_form.field_author' | translate}}</span>
                    <input type="text"  name="author" ng-model="form.author" required>
                </label>
                <div class="form-errors" ng-messages="formLibrary.author.$error" ng-show="formLibrary.$submitted">
                    <div class="form-error" ng-message="required">{{'book_form.field_author' | translate}} {{'app.required_field' | translate}}</div>
                </div>


                <li class="item item-divider">
                {{'book_form.cover' | translate}}
            </li>

                <div class="item item-image">
                    <div style="width: 100px;display: inline-block;position: relative;">
                        <img ng-src="{{form.thumb}}" style="width: 100px;" ng-click="onPicture()"/>
                        <button type="button" class="button button-icon button-photo" style="position: absolute;bottom: 0px;right: 0px;opacity: 0.6;">
                        <i class="icon ion-android-camera"></i>
                        </button>
                    </div>
                </div>



          <label class="item item-input item-stacked-label">
             <span class="input-label">{{'book_form.field_publisher' | translate}}</span>
              <input type="text"  name="publisher" ng-model="form.publisher">
          </label>

          <label class="item item-input item-stacked-label">
             <span class="input-label">{{'book_form.field_publisher_year' | translate}}</span>
              <input type="number"  name="published_year" ng-model="form.published_year">
          </label>

          <label class="item item-input item-stacked-label">
             <span class="input-label">{{'book_form.field_page' | translate}}</span>
              <input type="number"  name="page_count" ng-model="form.page_count">
          </label> 

          <label class="item item-input item-stacked-label">
             <span class="input-label">{{'book_form.field_description' | translate}}</span>
              <textarea class="input-label"></textarea>
          </label> 

        

      </div>

      




    

    


  </ion-content>

</form>
</ion-view>
